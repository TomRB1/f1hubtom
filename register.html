<!DOCTYPE html>
<html class="dark" lang="en">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Register – F1 Portal</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <style>
    body { font-family: 'Space Grotesk', sans-serif; }
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400;}
  </style>
</head>

<body class="bg-[#0e0e0e] text-white min-h-screen flex items-center justify-center px-6">

  <div class="w-full max-w-md bg-black/40 border border-white/10 backdrop-blur-md p-8 rounded-xl shadow-xl">
    <h1 class="text-3xl font-bold text-center mb-6 text-red-500">Create Your Account</h1>

    <label class="block mb-4">
      <p class="mb-1 text-white/80">Email</p>
      <input id="email" class="w-full h-12 px-3 rounded-lg bg-white/10 border border-white/20 focus:ring-2 ring-red-600" type="email" placeholder="you@example.com"/>
    </label>

    <label class="block mb-6">
      <p class="mb-1 text-white/80">Password</p>
      <input id="password" class="w-full h-12 px-3 rounded-lg bg-white/10 border border-white/20 focus:ring-2 ring-red-600" type="password" placeholder="••••••••"/>
    </label>

    <button id="registerBtn" class="w-full py-3 bg-red-600 hover:bg-red-700 transition rounded-lg font-bold">
      CREATE ACCOUNT
    </button>

    <p class="text-center mt-4 text-white/60 text-sm">
      ¿Ya tenés cuenta?
      <a href="index.html" class="underline hover:text-red-400">Login</a>
    </p>
  </div>

  <script type="module">
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCI5lOdyNV6intEbFy9BXPP-gcPDD3vQOY",
      authDomain: "webmussetof1.firebaseapp.com",
      projectId: "webmussetof1",
      storageBucket: "webmussetof1.firebasestorage.app",
      messagingSenderId: "461670115383",
      appId: "1:461670115383:web:55a98857d6d620efd5b7b2"
    };

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { 
      getAuth,
      createUserWithEmailAndPassword,
      sendEmailVerification
    } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const emailInput = document.getElementById("email");
    const passInput = document.getElementById("password");
    const btn = document.getElementById("registerBtn");

    btn.addEventListener("click", async () => {
      const email = emailInput.value.trim();
      const pass = passInput.value.trim();

      if (!email || !pass) {
        alert("Completá todos los campos.");
        return;
      }

      btn.disabled = true;
      btn.textContent = "CREATING...";

      try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, pass);
        await sendEmailVerification(userCredential.user);

        alert("Cuenta creada. Revisá tu email y verificá tu cuenta.");
        window.location.href = "index.html";

      } catch (e) {
        console.error(e);
        alert("Error: " + e.message);

      } finally {
        btn.disabled = false;
        btn.textContent = "CREATE ACCOUNT";
      }
    });
  </script>

</body>
</html>
