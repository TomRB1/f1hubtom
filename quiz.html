<html lang="en" class="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>F1 Quiz</title>

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

  <style>
    body { font-family: 'Space Grotesk', sans-serif; }
  </style>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#f20d0d",
            "background-dark": "#221010",
            "card-dark": "#1a1a1a",
            "text-dark": "#f3f4f6",
            "text-muted-dark": "#9ca3af",
          },
          fontFamily: {
            sans: ['Space Grotesk', 'sans-serif'],
          },
          boxShadow: {
            'xl-red': '0 20px 25px -5px rgba(242, 13, 13, 0.3), 0 10px 10px -5px rgba(242, 13, 13, 0.2)',
          }
        },
      },
    }
  </script>
</head>

<body class="dark bg-background-dark min-h-screen flex items-center justify-center p-6">

  <div class="w-full max-w-2xl bg-card-dark p-8 rounded-2xl shadow-xl shadow-primary/40 border border-primary/20">


    <header class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-extrabold text-primary tracking-wide">F1 QUIZ</h1>

      <a href="menu.html" class="text-text-muted-dark hover:text-primary transition flex items-center text-sm">
        <span class="material-symbols-outlined text-base mr-1">arrow_back</span>
        Volver
      </a>
    </header>


    <div id="intro" class="space-y-4">
      <p class="text-text-muted-dark">
        Probá tus conocimientos de Fórmula 1. 8 preguntas. ¡Demostrá que sos digno del podio!
      </p>

      <button id="startBtn"
        class="w-full py-3 rounded-xl bg-primary hover:bg-red-700 text-white font-bold shadow-lg shadow-primary/40 transition transform hover:scale-[1.01]">
        INICIAR QUIZ
      </button>
    </div>


    <div id="quiz" class="hidden space-y-6">

      <p id="questionCount" class="text-sm text-primary font-bold"></p>

      <h2 id="questionText" class="text-xl font-semibold text-text-dark"></h2>

      <div id="answers" class="space-y-3">
        <!-- respuestas -->
      </div>

      <button id="nextBtn"
        class="hidden w-full py-3 rounded-xl bg-gray-700 hover:bg-gray-600 text-white font-bold transition">
        Siguiente Pregunta
      </button>
    </div>


    <div id="results" class="hidden text-center space-y-6">
        <h2 class="text-3xl font-bold text-primary">¡Carrera Terminada!</h2>
        <p id="scoreText" class="text-xl text-text-dark"></p>
        <button id="restartBtn"
          class="w-full py-3 rounded-xl bg-primary hover:bg-red-700 text-white font-bold shadow-lg shadow-primary/40 transition">
          Jugar de Nuevo
        </button>
    </div>

  </div>

<!-- ======================= JS =========================== -->
<script type="module">

const firebaseConfig = {
    apiKey: "AIzaSyCI5lOdyNV6intEbFy9BXPP-gcPDD3vQOY",
    authDomain: "webmussetof1.firebaseapp.com",
    projectId: "webmussetof1",
    storageBucket: "webmussetof1.firebasestorage.app",
    messagingSenderId: "461670115383",
    appId: "1:461670115383:web:55a98857d6d620efd5b7b2"
};

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* ------------- BLOQUEO DE PÁGINA (solo verificados) ----------- */
onAuthStateChanged(auth, (user) => {
    if (!user) return window.location.href = "index.html";
    if (!user.emailVerified) {
        alert("Tu cuenta no está verificada.");
        signOut(auth);
        window.location.href = "index.html";
    }
});

/* ---------------- LÓGICA DEL QUIZ (SIN JSON) ----------- */
const startBtn = document.getElementById("startBtn");
const intro = document.getElementById("intro");
const quiz = document.getElementById("quiz");
const results = document.getElementById("results");
const nextBtn = document.getElementById("nextBtn");

const questionText = document.getElementById("questionText");
const answersDiv = document.getElementById("answers");
const questionCount = document.getElementById("questionCount");
const scoreText = document.getElementById("scoreText");

const questions = [
  {
    q: "¿Quién ganó el Campeonato Mundial de Pilotos 2024?",
    options: ["Max Verstappen", "Charles Leclerc", "Lando Norris", "Lewis Hamilton"],
    correct: 0
  },
  {
    q: "¿Qué equipo ganó el Campeonato de Constructores 2024?",
    options: ["Red Bull", "Ferrari", "Mercedes", "McLaren"],
    correct: 3
  },
  {
    q: "¿Quién debutó como piloto titular en 2025?",
    options: ["Liam Lawson", "Oscar Piastri", "Oliver Bearman", "Logan Sargeant"],
    correct: 2
  },
  {
    q: "¿En qué circuito se corrió el primer GP de 2025?",
    options: ["Bahrein", "Australia", "Arabia Saudita", "Qatar"],
    correct: 0
  }
];

let index = 0;
let score = 0;


startBtn.addEventListener("click", () => {
    intro.classList.add("hidden");
    quiz.classList.remove("hidden");
    loadQuestion();
});


function loadQuestion() {
    const q = questions[index];
    questionCount.textContent = `Pregunta ${index + 1} de ${questions.length}`;
    questionText.textContent = q.q;

    answersDiv.innerHTML = "";
    nextBtn.classList.add("hidden");

    q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className =
          "w-full py-3 px-4 rounded-lg bg-gray-800 hover:bg-gray-700 transition text-left border border-white/10";

        btn.textContent = opt;

        btn.onclick = () => {
            if (i === q.correct) {
                score++;
                btn.classList.add("bg-green-700", "border-green-400");
            } else {
                btn.classList.add("bg-red-700", "border-red-400");
            }

            Array.from(answersDiv.children).forEach(b => b.disabled = true);
            nextBtn.classList.remove("hidden");
        };

        answersDiv.appendChild(btn);
    });
}


nextBtn.onclick = () => {
    index++;
    if (index >= questions.length) return showResults();
    loadQuestion();
};

function showResults() {
    quiz.classList.add("hidden");
    results.classList.remove("hidden");
    scoreText.textContent = `Tu puntuación final es: ${score}/${questions.length}`;
}


document.getElementById("restartBtn").onclick = () => location.reload();
</script>

</body>
</html>

