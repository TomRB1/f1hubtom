
<html lang="en" class="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>F1 Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <style>body{font-family:'Space Grotesk',sans-serif}</style>
</head>
<body class="bg-[#0f1115] text-white min-h-screen flex items-center justify-center p-6">
  <div class="w-full max-w-2xl bg-black/60 backdrop-blur-md border border-white/5 rounded-xl p-6 shadow-2xl shadow-red-900/20">
    <header class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold text-red-500">F1 Quiz Challenge</h1>
      <a href="menu.html" class="text-sm text-white/70 hover:text-red-400 flex items-center">
        <span class="material-symbols-outlined text-base mr-1">arrow_back</span>
        Volver al menú
      </a>
    </header>

    <div id="intro" class="space-y-4">
      <p class="text-white/80">Probá tus conocimientos de F1. 8 preguntas. Sumá puntos por respuestas correctas.</p>
      <button id="startBtn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 w-full shadow-lg shadow-red-600/50 transform hover:scale-[1.01]">
        INICIAR QUIZ
      </button>
    </div>

    <!-- Contenido del Quiz (Inicialmente oculto) -->
    <div id="quiz" class="hidden space-y-6">
        <p id="questionCount" class="text-sm text-red-400 font-bold"></p>
        <h2 id="questionText" class="text-xl font-semibold"></h2>
        <div id="answers" class="space-y-3">
            <!-- Respuestas cargadas por JS -->
        </div>
        <button id="nextBtn" class="hidden bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition duration-200 mt-4 w-full">Siguiente Pregunta</button>
    </div>

    <!-- Pantalla de Resultados (Inicialmente oculto) -->
    <div id="results" class="hidden text-center space-y-4">
        <h2 class="text-3xl font-bold text-red-500">¡Carrera Terminada!</h2>
        <p id="scoreText" class="text-xl text-white"></p>
        <p class="text-sm text-white/70">Tu puntuación se ha guardado en el ranking.</p>
        <button id="restartBtn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 w-full mt-4">Jugar de Nuevo</button>
    </div>

  </div>

<script type="module">
// 1. CONFIGURACIÓN REAL DE FIREBASE
const firebaseConfig = {
    apiKey: "AIzaSyCI5lOdyNV6intEbFy9BXPP-gcPDD3vQOY",
    authDomain: "webmussetof1.firebaseapp.com",
    projectId: "webmussetof1",
    storageBucket: "webmussetof1.firebasestorage.app",
    messagingSenderId: "461670115383",
    appId: "1:461670115383:web:55a98857d6d620efd5b7b2",
    measurementId: "G-03VLFQ4MVH"
};

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

// Inicializar Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// FUNCIÓN DE CONTROL DE ACCESO (Muro de Seguridad)
onAuthStateChanged(auth, (user) => {
    if (user) {
        // Hay un usuario logueado. Chequeamos la verificación de email
        if (user.emailVerified) {
            console.log("Acceso concedido. Usuario verificado.");
        } else {
            // Si no está verificado, forzamos la salida y lo mandamos al login
            alert("Tu cuenta no está verificada. Revisa tu email. Redirigiendo al Login.");
            signOut(auth);
            window.location.href = "index.html";
        }
    } else {
        // No hay usuario logueado, redirigir al login
        console.log("No hay sesión activa. Redirigiendo al Login.");
        window.location.href = "index.html";
    }
});

// LÓGICA TEMPORAL DE BOTONES DEL QUIZ (Pendiente de implementación)
const startBtn = document.getElementById("startBtn");
if (startBtn) {
    startBtn.addEventListener('click', () => {
        alert("Iniciando Quiz. (La lógica del Quiz se implementará en el siguiente paso.)");
        // Lógica futura para mostrar quiz y ocultar intro
    });
}
</script>
</body>
</html>